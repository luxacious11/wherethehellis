<!DOCTYPE html>
<html>
    <head>
        @@include('../source/templates/head.html', {
            "prefix": "../dist"
        })  
    </head>
    <body id="Pages" class="g-4">
@@include('../source/templates/nav.html', {
            "prefix": ".."
        })
@@include('../source/templates/header.html', {
            "prefix": ".."
        })

        <!--Main Body-->
        <main>
            <a name="top"></a>
		
		
            <div id="loading">
                <div class="loading-bubble">
                    <i class="fa-regular fa-spinner fa-spin"></i>
                    <p>Loading</p>
                </div>
            </div>


            <!--Webpage-->
            <section class="webpage">
                <div class="webpage--menu">
                    <button class="onlyMobile" onClick="toggleWebpageMenu(this)">
                        <i class="fa-solid fa-ellipsis-h"></i>
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                    <tag-labels class="accordion scroll">
                        <tag-label data-category="info" class="tab-category accordion--trigger">
                            <span>Required Reading</span>
                        </tag-label>
                        <div data-category="info" class="tab-category accordion--content">
                            <a href="#etiquette">Etiquette</a>
                            <a href="#premise">Premise</a>
                            <a href="#setting">Setting</a>
                            <a href="#groups">Member Groups</a>
                            <a href="#credits">Credits</a>
                        </div>
                        <tag-label data-category="plots" class="tab-category accordion--trigger">
                            <span>Subplots</span>
                        </tag-label>
                        <div data-category="plots" class="tab-category accordion--content"></div>
                        <tag-label data-category="guides" class="tab-category accordion--trigger">
                            <span>Guides</span>
                        </tag-label>
                        <div data-category="guides" class="tab-category accordion--content">
                            <a href="#start">Getting Started</a>
                            <a href="./businesses.html" class="external">Businesses</a>
                            <a href="./connections.html#neighborhoods" class="external">Neighborhoods</a>
                            <a href="#restricted-faces">Restricted Faces</a>
                        </div>
                        <tag-label data-category="registration" class="tab-category accordion--trigger">
                            <span>Registration</span>
                        </tag-label>
                        <div data-category="registration" class="tab-category accordion--content">
                            <a href="#reserve-face">Reserve a Face</a>
                            <a href="#reserve-role">Reserve a Subplot Role</a>
                            <a href="#add-business">Register a Business</a>
                            <a href="#sort">Get Sorted</a>
                            <a href="./connections.html#add-address" class="external">Register an Address</a>
                            <a href="./connections.html#add-connection" class="external">Add Connections</a>
                        </div>
                        <tag-label data-category="claims" class="tab-category accordion--trigger">
                            <span>Claims</span>
                        </tag-label>
                        <div data-category="claims" class="tab-category accordion--content">
                            <a href="#face-reserves">Face Reserves</a>
                            <a href="./memberDirectory.html" class="external">Members</a>
                            <a href="#faces">Faces</a>
                            <a href="#powers">Powers</a>
                            <a href="./businesses.html" class="external">Jobs</a>
                            <a href="./connections.html" class="external">Connections</a>
                        </div>
                        <tag-label data-category="moderation" class="tab-category accordion--trigger">
                            <span>Moderation</span>
                        </tag-label>
                        <div data-category="moderation" class="tab-category accordion--content">
                            <a href="#edit-member">Edit Member Claims</a>
                            <a href="#edit-claims">Edit Character Claims</a>
                            <a href="#edit-business">Edit a Business</a>
                            <a href="#request-help">Request Staff Help</a>
                        </div>
                        <tag-label data-category="staff" class="tab-category accordion--trigger staffOnly">
                            <span>Staff Only</span>
                        </tag-label>
                        <div data-category="staff" class="tab-category accordion--content staffOnly">
                            <a href="#approve-character">Approve Character</a>
                            <a href="#add-plot">Add Plot</a>
                        </div>
                    </tag-labels>
                </div>
                <tag-tabset class="webpage--content">
                    <tag-tab class="tab-category" data-category="info">
                        <tag-tabset>
                            <tag-tab data-key="#etiquette">
                                <div class="webpage--content-inner"><div class="scroll">
                                    Rules
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#premise">
                                <div class="webpage--content-inner"><div class="scroll">
                                    premise
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#setting">
                                <div class="webpage--content-inner"><div class="scroll">
                                    setting
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#groups">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/groups.html')
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#credits">
                                <div class="webpage--content-inner"><div class="scroll">
                                    credits
                                </div></div>
                            </tag-tab>
                        </tag-tabset>
                    </tag-tab>
                    <tag-tab class="tab-category" data-category="plots">
                        <tag-tabset></tag-tabset>
                    </tag-tab>
                    <tag-tab class="tab-category" data-category="guides">
                        <tag-tabset>
                            <tag-tab data-key="#start">
                                <div class="webpage--content-inner"><div class="scroll">
                                    start guide
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#restricted-faces">
                                <div class="webpage--content-inner"><div class="scroll">
                                    restricted faces
                                </div></div>
                            </tag-tab>
                        </tag-tabset>
                    </tag-tab>
                    <tag-tab class="tab-category" data-category="registration">
                        <tag-tabset>
                            <tag-tab data-key="#reserve-face">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/forms/reserve-face.html')
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#reserve-role">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/forms/reserve-role.html')
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#add-business">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/forms/add-business.html')
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#sort">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/forms/sorting.html')
                                </div></div>
                            </tag-tab>
                        </tag-tabset>
                    </tag-tab>
                    <tag-tab class="tab-category" data-category="claims">
                        <tag-tabset>
                            <tag-tab data-key="#face-reserves">
                                <div class="webpage--content-inner"><div class="scroll">
                                    <h2 data-box-align="center">Reserved Faces</h2>
                                    <div data-type="grid" data-columns="2" class="filters">
                                        <div class="filter">
                                            <strong class="h6">Filter by Face</strong>
                                            <input type="text" data-filter="#face-reserves" data-objects="> b" data-headers="h3" onkeyup="filterValue(this)" placeholder="Face" style="width: 100%;">
                                        </div> 
                                        <div class="filter">
                                            <strong class="h6">Filter by Member</strong>
                                            <input type="text" data-filter="#face-reserves" data-objects="> b + span" data-headers="h3" onkeyup="filterValue(this)" placeholder="Alias" style="width: 100%;">
                                        </div>
                                    </div>
                                    <div id="clip-face-reserves" class="claim-wrap accordion"></div>
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#faces">
                                <div class="webpage--content-inner"><div class="scroll">
                                    <h2 data-box-align="center">Claimed Faces</h2>
                                    <div data-type="grid" data-columns="3" class="filters">
                                        <div class="filter">
                                            <strong class="h6">Filter by Face</strong>
                                            <input type="text" data-filter="#faces" data-objects="> a" data-headers="h3" data-hide-wrap="true" onkeyup="filterValue(this)" placeholder="Face" style="width: 100%;">
                                        </div> 
                                        <div class="filter">
                                            <strong class="h6">Filter by Character</strong>
                                            <input type="text" data-filter="#faces" data-objects="> a + span > a" data-headers="h3" data-hide-wrap="true" onkeyup="filterValue(this)" placeholder="Character" style="width: 100%;">
                                        </div>
                                        <div class="filter">
                                            <strong class="h6">Filter by Member</strong>
                                            <input type="text" data-filter="#faces" data-objects="> a + span + span > a" data-headers="h3" data-hide-wrap="true" onkeyup="filterValue(this)" placeholder="Member" style="width: 100%;">
                                        </div>
                                    </div>
                                    <div id="clip-face-claims" class="claim-wrap accordion"></div>
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#powers">
                                <div class="webpage--content-inner"><div class="scroll">
                                    <h2 data-box-align="center">Existing Powers</h2>
                                    <blockquote>Please note that duplicate powers are acceptable! This is just to help quickly reference which characters have what abilities at this given moment.</blockquote>
                                    <div id="clip-powers" class="claim-wrap accordion"></div>
                                </div></div>
                            </tag-tab>
                        </tag-tabset>
                    </tag-tab>
                    <tag-tab class="tab-category" data-category="moderation">
                        <tag-tabset>
                            <tag-tab data-key="#edit-member">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/forms/edit-member.html')
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#edit-claims">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/forms/edit-claims.html')
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#edit-business">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/forms/edit-business.html')
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#request-help">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/forms/moderation.html')
                                </div></div>
                            </tag-tab>
                        </tag-tabset>
                    </tag-tab>
                    <tag-tab class="tab-category staffOnly" data-category="staff">
                        <tag-tabset>
                            <tag-tab data-key="#approve-character">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/forms/approve.html')
                                </div></div>
                            </tag-tab>
                            <tag-tab data-key="#add-plot">
                                <div class="webpage--content-inner"><div class="scroll">
                                    @@include('../source/templates/forms/add-plot.html')
                                </div></div>
                            </tag-tab>
                        </tag-tabset>
                    </tag-tab>
            </section>
            <script>
                const sheetID = '1buBqX-7xF2PTnk4KPGZkJplEGdsKv0vzT6n3kMhwvaY';
                const deployID = 'AKfycbwIJm8O49PGWgdZ4fU8E-WhjaCoqj-nvXU9h7x6n7v82jlOX96TStYBdbY6g0nNJbx46w';

                const reserveLogs = `1241133077795704872/_AQMeJpMJJIgUXZ_RnfamVdNW19egMkSKrVMl9MmCmZv5UsHpmagJQDIutLmLdNld_Jm`;
                const claimLogs = `1241133855059218544/z6I5PWzpY0ZqklX3wjBY9fOo-_-vh3nAKe5Kxf1SkDhz70-4pS0aMTp-RF_-Zo12bG7L`;
                const businessLogs = `1241133925640831006/oc1QdrqDYKhBtTMI9kfQ-3eT0jm1mYsERjTXMkC_B19podkxk-vl2WtjhIfEnxji7Gcb`;
                const modLogs = `1241133990518460436/Y3nr7TlizQqWWPtO2C_4LDR9Yw6acDpCLyGwzQSRdUkw34CnoLaov-XsXNDVHOlWDzrf`;
                const sort = `1241133648426700930/hdNYP_cEJ0980RDrZLNGSAZZUlevGJF8v3WubBE9bnRd691ge7dgoNiBUwbbqdLmZjkT`;
                const announce = `1241133773786058893/FNIz3HbifQL-CycJnK2EQ4n_Lmnmh8-xAU-JoXjmoZeufYZ3aG8Ol53Sbr9AmMIdwvKt`;
                const staffLogs = `1241512727646830664/M4l0GXpNaSLoj2WCRsPf-b1JxNOfjuMJrBahBHLqQ1p-3lxhrD86egV5mtTjLYg0l3PM`;

                const faceReserves = `https://opensheet.elk.sh/${sheetID}/FaceReserves`;
                const subplotReserves = `https://opensheet.elk.sh/${sheetID}/PlotReserves`;
                const claims = `https://opensheet.elk.sh/${sheetID}/Claims`;
                const plots = `https://opensheet.elk.sh/${sheetID}/Plots`;
                const businesses = `https://opensheet.elk.sh/${sheetID}/Businesses`;

                let businessDataVar, subplotDataVar, claimsDataVar;
            </script>
            <script src="../dist/js/webpageFunctions.js"></script>
            <script src="../dist/js/formatFunctions.js"></script>
            <script src="../dist/js/claims.js"></script>
            <script src="../dist/js/webpageScripts.js"></script>
            <script src="../dist/js/forms.js"></script>
            <script>
                fetch(claims)
                .then((response) => response.json())
                .then((claimsData) => {
                    claimsDataVar = claimsData;
                    formatFaceClaims(claimsData);
                    formatPowerClaims(claimsData);
                    
                    fetch(faceReserves)
                    .then((response) => response.json())
                    .then((reservesData) => {
                        formatFaceReserves(reservesData, claimsData);

                        fetch(subplotReserves)
                        .then((response) => response.json())
                        .then((subplotReservesData) => {
                            fetch(plots)
                            .then((response) => response.json())
                            .then((subplotData) => {
                                formatSubplots(subplotData, claimsData, subplotReservesData);
                                setPlotOptions(subplotData, `#form-reserve-role`, `.clip-plots`);
                                subplotDataVar = subplotData;

                                fetch(businesses)
                                .then((response) => response.json())
                                .then((businessData) => {
                                    businessDataVar = businessData;
                                    //console.log('businesses');
                                    //console.log(businessData);
                                    
                                }).then(() => {
                                    pullCharacterClaims(document.querySelector('#form-edit-character #accountid'));
                                    initWebpages();
                                });
                                
                            });
                            
                        });

                    });

                });
            </script>

            <!-- Copyright Information -->
            <div class="tableborder" align="center">
                <div class="row4" style="font-size: 7.5pt; padding-top: 1px; padding-bottom: 1px; line-height: 8pt;">
                    <div class="copyright" align="center">
                        Powered by 
                        <a href="https://www.invisionboard.com" target="_blank">Invision Power Board</a>
                        (<a href="http://jcink.com" target="_blank">Jcink.com </a>
                        <a href="https://jcink.com" target="_blank">Forum Hosting</a>
                        ) © 2020 &nbsp;
                        <a href="https://www.invisionpower.com" target="_blank">IPS, Inc.</a>
                        <br>
                        Page creation time: 0.0054 <!-- http://luxtradition.b1.jcink.com -->  · 
                        <a href="index.php?act=Mobile">Mobile Version</a> · 
                        <a href="index.php?act=privacy">Privacy Policy</a>
                    </div>
                </div>
            </div> 
        </main>
        
        @@include('../source/templates/scripts.html', {
            "prefix": "../dist"
        })   
    </body>
</html>